(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3c3d992"],{"2ff1":function(e,t,a){},"7e2f":function(e,t,a){"use strict";a("2ff1")},"9ed6":function(e,t,a){"use strict";a.r(t);var i=a("7a23"),s=Object(i["n"])("div",{class:"login"},null,-1),n={class:"login-mid"},c=Object(i["n"])("div",{class:"login-mid-top"},[Object(i["n"])("div",{class:"shadow-top-left"}),Object(i["n"])("div",{class:"shadow-top-right"})],-1),o={class:"login-mid-mid"},d={class:"videoCamera-canvasCamera"},r=["width","height"],h=["width","height"],l={key:0,class:"face-special-effects-2"},f={key:1,class:"face-special-effects"},m={class:"face-btn"},u={class:"msg"},v={class:"server-msg"},b=Object(i["n"])("div",{class:"welcome"},"Welcome to face recognition",-1),g=Object(i["n"])("div",{class:"login-mid-bot"},[Object(i["n"])("div",{class:"shadow-bot-left"}),Object(i["n"])("div",{class:"shadow-bot-right"})],-1);function O(e,t,a,O,p,j){return Object(i["K"])(),Object(i["m"])("div",null,[s,Object(i["n"])("div",n,[c,Object(i["n"])("div",o,[Object(i["n"])("div",d,[Object(i["n"])("video",{id:"videoCamera",width:p.videoWidth,height:p.videoHeight,autoplay:""},null,8,r),Object(i["n"])("canvas",{style:{display:"none"},id:"canvasCamera",width:p.videoWidth,height:p.videoHeight},null,8,h),p.faceImgState?(Object(i["K"])(),Object(i["m"])("div",l)):(Object(i["K"])(),Object(i["m"])("div",f))]),Object(i["n"])("div",m,[Object(i["n"])("button",{onClick:t[0]||(t[0]=function(e){return j.faceVef()})},Object(i["X"])(p.faceImgState?"正在识别中...":"开始识别"),1)]),Object(i["n"])("div",u,[Object(i["n"])("div",v,Object(i["X"])(p.msg),1),b])]),g])])}var p=a("76d3"),j=a("b775"),w=a("e350"),C={name:"Facelogin",data:function(){return{videoWidth:200,videoHeight:200,msg:"",faceImgState:!1,faceOption:{},form:{username:"admin",password:"admin"}}},mounted:function(){this.faceOption=p["a"].getCamera({videoWidth:200,videoHeight:200,thisCancas:null,thisContext:null,thisVideo:null,canvasId:"canvasCamera",videoId:"videoCamera"})},methods:{faceVef:function(){var e=this,t=p["a"].draw(this.faceOption);this.faceImgState||(this.faceImgState=!0,""===t||null===t||void 0===t?this.$message.error("图片数据为空"):(this.faceOption.thisVideo.srcObject.getTracks()[0].stop(),j["a"].post("/user/login",this.form).then((function(t){"0"===t.code?(e.$message({type:"success",message:"登录成功"}),sessionStorage.setItem("user",JSON.stringify(t.data)),Object(w["a"])(),1===t.data.id?e.$router.push("/"):e.$router.push("/front")):e.$message({type:"error",message:t.msg})}))))}}},y=(a("7e2f"),a("6b0d")),I=a.n(y);const S=I()(C,[["render",O]]);t["default"]=S},e350:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("159b"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0");var i=a("a18c"),s=a("ac48");a("8387");function n(){var e=sessionStorage.getItem("user");if(e){var t=JSON.parse(e),n={path:"/",name:"Layout",component:s["a"],redirect:"/home",children:[]};t.permissions.forEach((function(e){var t={path:e.path,name:e.name,component:function(){return a("9dac")("./"+e.name)}};n.children.push(t)})),i["a"]&&i["a"].addRoute(n)}}}}]);
//# sourceMappingURL=chunk-d3c3d992.82b2acd2.js.map