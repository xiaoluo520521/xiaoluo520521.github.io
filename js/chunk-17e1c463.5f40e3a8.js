(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17e1c463"],{4886:function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),o={style:{padding:"10px"}},c=Object(a["q"])("编辑"),i=Object(a["q"])("删除"),l={class:"custom-tree-container"},r={class:"custom-tree-node"},s=["onClick"],d={style:{margin:"10px 0"}},u={class:"dialog-footer"},b=Object(a["q"])("取 消"),f=Object(a["q"])("确 定");function h(e,t,n,h,g,O){var j=Object(a["T"])("el-table-column"),m=Object(a["T"])("el-button"),p=Object(a["T"])("el-popconfirm"),k=Object(a["T"])("el-table"),y=Object(a["T"])("el-tree"),C=Object(a["T"])("el-card"),v=Object(a["T"])("el-cascader"),w=Object(a["T"])("el-input"),V=Object(a["T"])("el-form-item"),_=Object(a["T"])("el-form"),T=Object(a["T"])("el-dialog"),x=Object(a["U"])("loading");return Object(a["K"])(),Object(a["m"])("div",o,[Object(a["jb"])(Object(a["r"])(k,{data:g.tableData,border:"",stripe:"",style:{width:"100%"},"row-key":"id","default-expand-all":""},{default:Object(a["ib"])((function(){return[Object(a["r"])(j,{prop:"name",label:"名称"}),Object(a["r"])(j,{label:"操作"},{default:Object(a["ib"])((function(e){return[1===g.user.role?(Object(a["K"])(),Object(a["k"])(m,{key:0,size:"mini",onClick:function(t){return O.handleEdit(e.row)}},{default:Object(a["ib"])((function(){return[c]})),_:2},1032,["onClick"])):Object(a["l"])("",!0),1===g.user.role?(Object(a["K"])(),Object(a["k"])(p,{key:1,title:"确定删除吗？",onConfirm:function(t){return O.handleDelete(e.row.id)}},{reference:Object(a["ib"])((function(){return[Object(a["r"])(m,{size:"mini",type:"danger"},{default:Object(a["ib"])((function(){return[i]})),_:1})]})),_:2},1032,["onConfirm"])):Object(a["l"])("",!0)]})),_:1})]})),_:1},8,["data"]),[[x,g.loading]]),Object(a["r"])(C,{style:{margin:"10px 0",width:"50%"}},{default:Object(a["ib"])((function(){return[Object(a["n"])("div",l,[Object(a["r"])(y,{data:g.tableData,props:g.defaultProps,"show-checkbox":"",onCheckChange:O.handleCheckChange,"node-key":"id","default-expanded-keys":[1,2],"default-checked-keys":g.checkedList},{default:Object(a["ib"])((function(e){var t=e.node,n=e.data;return[Object(a["n"])("span",r,[Object(a["n"])("span",null,Object(a["X"])(t.label),1),Object(a["n"])("span",null,[Object(a["n"])("a",{onClick:function(e){return O.remove(t,n)}}," Delete ",8,s)])])]})),_:1},8,["data","props","onCheckChange","default-checked-keys"])])]})),_:1}),Object(a["r"])(C,{style:{width:"50%"}},{default:Object(a["ib"])((function(){return[Object(a["r"])(v,{options:g.options,clearable:"",onChange:O.changeCas,modelValue:g.casdata,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.casdata=e})},null,8,["options","onChange","modelValue"])]})),_:1}),Object(a["n"])("div",d,[Object(a["r"])(T,{title:"提示",modelValue:g.dialogVisible,"onUpdate:modelValue":t[3]||(t[3]=function(e){return g.dialogVisible=e}),width:"30%"},{footer:Object(a["ib"])((function(){return[Object(a["n"])("span",u,[Object(a["r"])(m,{onClick:t[2]||(t[2]=function(e){return g.dialogVisible=!1})},{default:Object(a["ib"])((function(){return[b]})),_:1}),Object(a["r"])(m,{type:"primary",onClick:O.save},{default:Object(a["ib"])((function(){return[f]})),_:1},8,["onClick"])])]})),default:Object(a["ib"])((function(){return[Object(a["r"])(_,{model:g.form,"label-width":"120px"},{default:Object(a["ib"])((function(){return[Object(a["r"])(V,{label:"名称"},{default:Object(a["ib"])((function(){return[Object(a["r"])(w,{modelValue:g.form.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.form.name=e}),style:{width:"80%"}},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])])}var g=n("b775"),O={name:"Category",components:{},data:function(){return{user:{},loading:!0,form:{},dialogVisible:!1,search:"",currentPage:1,pageSize:10,total:0,tableData:[],casdata:["Anhui","Hefei","Zhengwu"],defaultProps:{children:"children",label:"name"},checkedList:[],options:[]}},created:function(){var e=this,t=sessionStorage.getItem("user")||"{}";this.user=JSON.parse(t),g["a"].get("/user/"+this.user.id).then((function(t){"0"===t.code&&(e.user=t.data)})),g["a"].get("/area/tree").then((function(t){console.log(t.data),e.options=t.data})),this.load()},methods:{changeCas:function(e){console.log(e),console.log(this.casdata)},remove:function(e,t){var n=this;g["a"].delete("/category/"+t.id).then((function(e){n.load()}))},handleCheckChange:function(e,t,n){console.log(e.id),console.log(e.name)},load:function(){var e=this;this.loading=!0,g["a"].get("/category").then((function(t){e.loading=!1,e.tableData=t.data;var n=[4];e.checkedList=n}))},add:function(){this.dialogVisible=!0,this.form={}},save:function(){var e=this;this.form.id?g["a"].put("/category",this.form).then((function(t){console.log(t),"0"===t.code?e.$message({type:"success",message:"更新成功"}):e.$message({type:"error",message:t.msg}),e.load(),e.dialogVisible=!1})):g["a"].post("/category",this.form).then((function(t){console.log(t),"0"===t.code?e.$message({type:"success",message:"新增成功"}):e.$message({type:"error",message:t.msg}),e.load(),e.dialogVisible=!1}))},handleEdit:function(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},handleDelete:function(e){var t=this;console.log(e),g["a"].delete("/category/"+e).then((function(e){"0"===e.code?t.$message({type:"success",message:"删除成功"}):t.$message({type:"error",message:e.msg}),t.load()}))},handleSizeChange:function(e){this.pageSize=e,this.load()},handleCurrentChange:function(e){this.currentPage=e,this.load()}}},j=(n("ce53"),n("6b0d")),m=n.n(j);const p=m()(O,[["render",h]]);t["default"]=p},ce53:function(e,t,n){"use strict";n("db31")},db31:function(e,t,n){}}]);
//# sourceMappingURL=chunk-17e1c463.5f40e3a8.js.map